<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/static/js/common.js"></script>
    <script src="/static/js/jquery-3.3.1.js"></script>
    <script>

        $(function () {
            //演示同源策略
            // $("#btnSend").click(function () {
            //     var url = "http://127.0.0.1:5000/05-server"
            //     $.get(url, function (data) {
            //         alert(data)
            //     })
            // })
            //演示非同源的解决方案(跨域)
            //访问地址是http://localhost:5000/static/xxx.html
            //请求地址http://127.0.0.1:5000/05-server
            /*
            * 方案：
            *  1 通过<script> 向服务器端发送请求
            *  2 服务器端响应回 js代码文本
            * */
            $("#btnSend").click(function () {
                // 1 动态创建script元素
                var script = document.createElement("script")
                //2 为script 元素设置属性 -type
                script.type = "text/javascript";
                //3 为script 元素设置属性 -src（等同于设置请求地址）
                script.src = "http://127.0.0.1:5000/05-server";
                //4 将script元素加载到 dom 树上即加载到网页中，也就是向src 的地址发送请求 并接收响应
                var body = $("body")[0];//获取body 元素
                body.append(script)//等同于向src发送请求


            });
        });

    </script>
</head>
<body>

<button id="btnSend">发送请求</button>
</body>
</html>